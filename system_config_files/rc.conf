# FreeBSD 14 ThinkPad T480 /etc/rc.conf configuration
# System startup and service configuration file

# ============================================================================
# SYSTEM BASICS
# ============================================================================

# Clear /tmp directory on boot for security and cleanliness
clear_tmp_enable="YES"

# Set system hostname
hostname="yourhostname"

# Set keyboard layout
keymap="pl.kbd"

# ============================================================================
# TIME SYNCHRONIZATION
# ============================================================================

# Enable initial time synchronization at boot (legacy, consider ntpd only)
ntpdate_enable="YES"

# Enable Network Time Protocol daemon for continuous time sync
ntpd_enable="YES"

# ============================================================================
# POWER MANAGEMENT
# ============================================================================

# Enable powerdxx for advanced power management (alternative to powerd)
powerdxx_enable="YES"

# Set CPU C-states for performance mode (Cmax = deepest available)
performance_cx_lowest="Cmax"

# Set CPU C-states for economy mode (Cmax = deepest available)
economy_cx_lowest="Cmax"

# Enable powerd for CPU frequency scaling (redundant with powerdxx?)
powerd_enable="YES"

# ============================================================================
# HARDWARE DRIVERS
# ============================================================================

# Enable HDA sound driver loading
snd_hda_load="YES"

# ============================================================================
# USB WEBCAM SUPPORT
# ============================================================================

# Enable webcam daemon for USB camera support
webcamd_enable="YES"

# Configure webcam for device ugen0.3 with background operation
webcamd_0_flags="-d ugen0.3 -B"

# ============================================================================
# NETWORK CONFIGURATION
# ============================================================================

# Run DHCP client in background for faster boot
background_dhclient="YES"

# Configure wired ethernet (em0) for DHCP
ifconfig_em0="DHCP"

# Enable IPv6 router advertisements on wired interface
ifconfig_em0_ipv6="inet6 accept_rtadv"

# Create wlan0 interface from iwm0 wireless device
wlans_iwm0="wlan0"

# Configure wireless for WPA authentication and DHCP
ifconfig_wlan0="WPA DHCP"

# Enable IPv6 router advertisements on wireless interface
ifconfig_wlan0_ipv6="inet6 accept_rtadv"

# Alternative wireless config with country code and power saving (disabled)
#ifconfig_wlan0="WPA country PL powersave"

# Wait 5 seconds before setting default route (helps with network timing)
defaultrouter_delay="5"

# ============================================================================
# INPUT DEVICES
# ============================================================================

# Disable moused for non-default mice (probably using modern input methods)
moused_nondefault_enable="NO"

# ============================================================================
# STORAGE AND FILESYSTEMS
# ============================================================================

# Enable automatic dump device configuration for crash dumps
dumpdev="AUTO"

# Enable ZFS filesystem support
zfs_enable="YES"

# ============================================================================
# DNS AND SECURITY
# ============================================================================

# Enable local Unbound DNS resolver
local_unbound_enable="YES"

# Enable D-Bus system message bus (required by many desktop applications)
dbus_enable="YES"

# ============================================================================
# SMART CARD SUPPORT
# ============================================================================

# Enable PC/SC daemon for smart card readers
pcscd_enable="YES"

# Disable PolicyKit integration for pcscd (simpler permission model)
pcscd_flags="--disable-polkit"

# ============================================================================
# NOTES
# ============================================================================
# 1. webcamd_enable appears twice - the second one overrides the first
# 2. Both powerdxx and powerd are enabled - they may conflict
# 3. ntpdate is deprecated in favor of ntpd's -g flag
# 4. Consider consolidating webcam configuration